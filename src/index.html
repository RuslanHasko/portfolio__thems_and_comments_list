<!DOCTYPE html>
<html lang="uk" ng-app="testApp">
<head>
  <meta charset="UTF-8">
  <title>Test project</title>
  <!-- OpenSans Google Font  -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
  <!-- User styles -->
  <link rel="stylesheet" href="css/style.css">
  <!-- All scripts linked here-->
  <script src="js/vendor.js"></script>
  <!-- Angular scripts linked here-->
  <script src="js/app.js"></script>
  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="favicon.ico" rel="icon" type="image/x-icon" />
  <link rel="icon" type="image/png" href="favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16" />
</head>
<body class="clearfix" ng-controller="appController">

  <!-- HEADER-->
  //= templates/aside.html
  <!-- END HEADER -->


  <section class="content clearfix">
    <div class="items">
      <h2>Items</h2>
      <form class="input-group" action="" method="post" ng-submit='addItem()'>
        <input type="text" name="name" value="" data-ng-model="newItemName" required>
        <button type="button" name="add-new-item" class="add-new-item-btn" ng-click='addItem()'>Add new</button>
      </form>
      <div class="scrollable">
        <ul class="items-list">
          <li id="item{{$index}}" class="item" ng-repeat="items in commentsData track by $index" ng-click="setCurrentItem($index)" ng-class="{active: $index === currentItem}">
            <div class="item-title">
              <span class="title-text">{{ items.itemName }}</span>
              <span class="counter">{{ items.itemComments.length }}</span>
            </div>
            <button type="button" name="delete-item" class="delete-item-btn" ng-click='deleteItem($index)'>Delete</button>
          </li>
        </ul>
      </div>
    </div>
    <div class="comments">
      <h2>Comments {{ commentsData[currentItem].itemName }}</h2>
      <h3 ng-hide="currentItem !== null">Please, select or create an Item</h3>
      <h3 ng-show="currentItemComments == '' && currentItem !== null">There are no comments yet!</h3>
      <ul class="comments-list" ng-init="$index">
        <li id="comment{{$index}}" class="comment" ng-repeat="comment in currentItemComments track by $index">
          <div class="comment-avatar"></div>
          <p class="comment-text">{{ comment.text }}</p>
        </li>
      </ul>
      <form ng-show="currentItem !== null" class="input-group" action="" method="post">
        <div class="comment-avatar"></div>
        <textarea data-ng-model="newItemComment" ng-enter="addComment()" name="name" required></textarea>
      </form>
    </div>
  </section>

</body>
</html>
